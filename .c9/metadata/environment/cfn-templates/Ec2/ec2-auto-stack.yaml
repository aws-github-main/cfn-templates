{"filter":false,"title":"ec2-auto-stack.yaml","tooltip":"/cfn-templates/Ec2/ec2-auto-stack.yaml","undoManager":{"mark":11,"position":11,"stack":[[{"start":{"row":107,"column":2},"end":{"row":185,"column":35},"action":"remove","lines":["cLaunchConfiguration:","    Type: AWS::AutoScaling::LaunchConfiguration","    Metadata:","      AWS::CloudFormation::Init:","        config:","          packages:","            yum:","              httpd: []","              php: []","          files:","            /var/www/html/index.php:","              content: !Sub |","                <?php print \"This is a php server home page!\"; ?>","          services:","            sysvinit:","              httpd:","                ensureRunning: true","                enabled: true","    Properties:","      AssociatePublicIpAddress: true","      ImageId: ","        !FindInMap","          - RegionMap","          - !Ref AWS::Region","          - AMI","      InstanceType: t2.micro","      SecurityGroups: ","        - !Ref cInstanceSecurityGroup","      KeyName: !Ref KeyName","      UserData:","        Fn::Base64:","          !Sub |","            #!/bin/bash -xe","            # ensure ec2 is up to date","            yum update -y aws-cfn-bootstrap","            #install meta data ","            /opt/aws/bin/cfn-init -v --stack ${AWS::StackName} --resource cLaunchConfiguration  --region ${AWS::Region}","            #files have installed.","  cLoadBalancer:","    Type: AWS::ElasticLoadBalancingV2::LoadBalancer","    Properties: ","      IpAddressType: ipv4","      SecurityGroups:","        - !Ref cAlbSecurityGroup","      Subnets: !Ref SubnetIds","      Tags:","        - Key: Name","          Value: cfn-alb-ec2","  cTargetGroup:","    Type:  AWS::ElasticLoadBalancingV2::TargetGroup","    Properties:","      Port: 80","      Protocol: HTTP","      Tags:","        - Key: Name","          Value: cfn-target-group","      VpcId: !Ref VpcId","  cLoadBalancerListener:","    Type:  AWS::ElasticLoadBalancingV2::Listener","    Properties:","      DefaultActions:","        - Type: forward","          TargetGroupArn: !Ref cTargetGroup","      LoadBalancerArn: !Ref cLoadBalancer","      Port: 80","      Protocol: HTTP","      ","  cAutoScalingGroup:","    Type: AWS::AutoScaling::AutoScalingGroup","    Properties:","      AvailabilityZones: !GetAZs","      LaunchConfigurationName: !Ref cLaunchConfiguration","      MaxSize: 2","      MinSize: 2","      Tags:","        - ","          Key: Name","          Value: cfn-asg-webserver","          PropagateAtLaunch: 'true'"],"id":2}],[{"start":{"row":14,"column":0},"end":{"row":30,"column":2},"action":"remove","lines":["Metadata:","  AWS::CloudFormation::Interface:","    -","      Label: Key Pair","      Parameters: ","        -KeyName","      ","      Label: Vpc Id","      Parameters:","        - VpcId","      Label: Select Subnet","        - SubnetIds","Parameters:","  KeyName:","    Type: AWS::EC2::KeyPair::KeyName","    Description: Ec2 Key Pair","  "],"id":3}],[{"start":{"row":14,"column":0},"end":{"row":15,"column":0},"action":"remove","lines":["",""],"id":4}],[{"start":{"row":30,"column":22},"end":{"row":31,"column":0},"action":"insert","lines":["",""],"id":5},{"start":{"row":31,"column":0},"end":{"row":31,"column":6},"action":"insert","lines":["      "]},{"start":{"row":31,"column":6},"end":{"row":31,"column":7},"action":"insert","lines":["M"]},{"start":{"row":31,"column":7},"end":{"row":31,"column":8},"action":"insert","lines":["a"]},{"start":{"row":31,"column":8},"end":{"row":31,"column":9},"action":"insert","lines":["p"]},{"start":{"row":31,"column":9},"end":{"row":31,"column":10},"action":"insert","lines":["p"]}],[{"start":{"row":31,"column":9},"end":{"row":31,"column":10},"action":"remove","lines":["p"],"id":6}],[{"start":{"row":31,"column":9},"end":{"row":31,"column":10},"action":"insert","lines":["P"],"id":7},{"start":{"row":31,"column":10},"end":{"row":31,"column":11},"action":"insert","lines":["u"]},{"start":{"row":31,"column":11},"end":{"row":31,"column":12},"action":"insert","lines":["b"]},{"start":{"row":31,"column":12},"end":{"row":31,"column":13},"action":"insert","lines":["l"]},{"start":{"row":31,"column":13},"end":{"row":31,"column":14},"action":"insert","lines":["i"]},{"start":{"row":31,"column":14},"end":{"row":31,"column":15},"action":"insert","lines":["c"]},{"start":{"row":31,"column":15},"end":{"row":31,"column":16},"action":"insert","lines":["I"]},{"start":{"row":31,"column":16},"end":{"row":31,"column":17},"action":"insert","lines":["p"]}],[{"start":{"row":31,"column":17},"end":{"row":31,"column":18},"action":"insert","lines":["O"],"id":8},{"start":{"row":31,"column":18},"end":{"row":31,"column":19},"action":"insert","lines":["n"]},{"start":{"row":31,"column":19},"end":{"row":31,"column":20},"action":"insert","lines":["L"]},{"start":{"row":31,"column":20},"end":{"row":31,"column":21},"action":"insert","lines":["u"]}],[{"start":{"row":31,"column":20},"end":{"row":31,"column":21},"action":"remove","lines":["u"],"id":9}],[{"start":{"row":31,"column":20},"end":{"row":31,"column":21},"action":"insert","lines":["a"],"id":10},{"start":{"row":31,"column":21},"end":{"row":31,"column":22},"action":"insert","lines":["u"]},{"start":{"row":31,"column":22},"end":{"row":31,"column":23},"action":"insert","lines":["n"]},{"start":{"row":31,"column":23},"end":{"row":31,"column":24},"action":"insert","lines":["c"]},{"start":{"row":31,"column":24},"end":{"row":31,"column":25},"action":"insert","lines":["h"]},{"start":{"row":31,"column":25},"end":{"row":31,"column":26},"action":"insert","lines":[":"]}],[{"start":{"row":31,"column":26},"end":{"row":31,"column":27},"action":"insert","lines":[" "],"id":11},{"start":{"row":31,"column":27},"end":{"row":31,"column":28},"action":"insert","lines":["t"]},{"start":{"row":31,"column":28},"end":{"row":31,"column":29},"action":"insert","lines":["r"]},{"start":{"row":31,"column":29},"end":{"row":31,"column":30},"action":"insert","lines":["u"]},{"start":{"row":31,"column":30},"end":{"row":31,"column":31},"action":"insert","lines":["e"]}],[{"start":{"row":91,"column":2},"end":{"row":92,"column":0},"action":"remove","lines":["",""],"id":12}],[{"start":{"row":91,"column":0},"end":{"row":91,"column":2},"action":"remove","lines":["  "],"id":13}]]},"ace":{"folds":[],"scrolltop":1167,"scrollleft":0,"selection":{"start":{"row":91,"column":0},"end":{"row":91,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":82,"state":"start","mode":"ace/mode/yaml"}},"timestamp":1576107369600,"hash":"9bcaa830e800ba50ca751e65495fc4601340a899"}